graph TD
    %% External Entities
    User[User<br/>Admin/Guru/Siswa]
    
    %% Sub-processes
    subgraph "1.0 Authentication Process"
        P1_1[1.1<br/>Validate<br/>Credentials]
        P1_2[1.2<br/>Check User<br/>Status]
        P1_3[1.3<br/>Generate<br/>Session]
        P1_4[1.4<br/>Set User<br/>Permissions]
    end
    
    %% Data Stores
    D1[(D1: User Database)]
    D7[(D7: Session Database)]
    
    %% Flows
    User -->|Username & Password| P1_1
    P1_1 -->|User Data Request| D1
    D1 -->|User Data| P1_1
    P1_1 -->|Validated User| P1_2
    P1_2 -->|User Status Check| D1
    D1 -->|User Status| P1_2
    P1_2 -->|Active User| P1_3
    P1_3 -->|Session Data| D7
    D7 -->|Session Created| P1_3
    P1_3 -->|Session Info| P1_4
    P1_4 -->|Permission Data| D1
    D1 -->|User Permissions| P1_4
    P1_4 -->|Login Success| User
    
    %% Styling
    classDef external fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef process fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    classDef datastore fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px
    
    class User external
    class P1_1,P1_2,P1_3,P1_4 process
    class D1,D7 datastore